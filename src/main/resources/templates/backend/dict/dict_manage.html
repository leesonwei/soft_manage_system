<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title th:text="${application.appname} + ' | 數據字典管理'">Color Admin | Managed Tables - Buttons</title>
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
	<meta content="" name="description" />
	<meta content="" name="author" />
	
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
	<link th:href="@{/../static/plugins/jquery-ui/jquery-ui.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/plugins/bootstrap/4.1.3/css/bootstrap.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/plugins/font-awesome/5.3/css/all.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/plugins/animate/animate.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/css/default/style.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/css/default/style-responsive.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/css/default/theme/default.css}" rel="stylesheet" id="theme" />
	<link th:href="@{/../static/plugins/layui/css/layui.css}" rel="stylesheet"/>
	<!-- ================== END BASE CSS STYLE ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL STYLE ================== -->
	<link th:href="@{/../static/plugins/DataTables/media/css/dataTables.bootstrap.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/plugins/DataTables/extensions/Buttons/css/buttons.bootstrap.min.css}" rel="stylesheet" />
	<link th:href="@{/../static/plugins/DataTables/extensions/Responsive/css/responsive.bootstrap.min.css}" rel="stylesheet" />
	<!-- ================== END PAGE LEVEL STYLE ================== -->
	
	<!-- ================== BEGIN BASE JS ================== -->
	<script th:src="@{/../static/plugins/pace/pace.min.js}"></script>
	<!-- ================== END BASE JS ================== -->

	<style>
		.selected{
			color:#fff;
			background-color: #1E9FFF !important;
		}
		.dicttype{
			cursor: pointer;
		}
		.layui-layer-btn .layui-layer-btn0{
			color:#fff !important;
		}
	</style>
</head>
<body>
	<!-- begin #page-loader -->
	<div id="page-loader" class="fade show"><span class="spinner"></span></div>
	<!-- end #page-loader -->
	
	<!-- begin #page-container -->
	<div id="page-container" class="fade in page-sidebar-fixed page-header-fixed">
		<!-- begin #header -->
		<div id="header" class="header navbar-default" th:replace="backend/index::header">

		</div>
		<!-- end #header -->
		
		<!-- begin #sidebar -->
		<div id="sidebar" class="sidebar" th:replace="backend/index::sidebar">

		</div>
		<div class="sidebar-bg"></div>
		<!-- end #sidebar -->
		
		<!-- begin #content -->
		<div id="content" class="content">
			<!-- begin row -->
			<div class="row">
				<!-- begin col-2 -->
				<div class="col-lg-2">
					<!-- begin panel -->
					<div class="panel panel-inverse">
						<!-- begin panel-heading -->
						<div class="panel-heading">
							<h4 class="panel-title">數據字典類型</h4>
						</div>
						<!-- end panel-heading -->

						<!-- begin panel-body -->
						<div class="panel-body">
							<table id="data-table-type" class="table table-striped table-bordered">
								<thead>
								<tr>
									<th class="text-nowrap"></th>
								</tr>
								</thead>
								<tbody>
								<tr class="odd gradeX" th:each="type,typeStat:${typeList}">
									<td th:class="${typeStat.first}?'dicttype selected':'dicttype'" th:attr="data-typeid=${type.typeId}" th:text="${type.typeName}"></td>
								</tr>
								</tbody>
							</table>
						</div>
						<!-- end panel-body -->
					</div>
					<!-- end panel -->
				</div>
				<!-- end col-2 -->
				<!-- begin col-10 -->
				<div class="col-lg-10">
					<!-- begin panel -->
					<div class="panel panel-inverse">
						<!-- begin panel-heading -->
						<div class="panel-heading">
							<div class="panel-heading-btn">
								<a th:if="false" href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>
								<a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-redo"></i></a>
								<a th:if="false" href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>
								<a th:if="false" href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-times"></i></a>
							</div>
							<h4 class="panel-title">數據字典管理</h4>
						</div>
						<!-- end panel-heading -->

						<!-- begin panel-body -->
						<div class="panel-body">

							<table id="data-table-buttons" class="table table-striped table-bordered">
								<thead>
								<tr>
									<th width="2%"></th>
									<th width="2%" data-orderable="false">ID</th>
									<th class="text-nowrap">類型</th>
									<th class="text-nowrap">名稱</th>
									<th class="text-nowrap">簡稱</th>
									<th class="text-nowrap">審核狀態</th>
									<th></th>
								</tr>
								</thead>
								<tbody>
								<tr class="odd gradeX">
									<td width="1%"></td>
									<td width="1%"></td>
									<td >Trident</td>
									<td >Internet Explorer 4.0</td>
									<td >Win 95+</td>
									<td >4</td>
									<td class="last">

									</td>
								</tr>
								</tbody>
							</table>
						</div>
						<!-- end panel-body -->
					</div>
					<!-- end panel -->
				</div>
				<!-- end col-10 -->
			</div>
			<!-- end row -->
		</div>
		<!-- end #content -->
		
		<!-- begin scroll to top btn -->
		<a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
		<!-- end scroll to top btn -->
	</div>
	<!-- end page container -->
	
	<!-- ================== BEGIN BASE JS ================== -->
	<script th:src="@{/../static/plugins/jquery/jquery-3.3.1.min.js}"></script>
	<script th:src="@{/../static/plugins/jquery-ui/jquery-ui.min.js}"></script>
	<script th:src="@{/../static/plugins/bootstrap/4.1.3/js/bootstrap.bundle.min.js}"></script>
	<!--[if lt IE 9]>
		<script th:src="@{/../static/crossbrowserjs/html5shiv.js}"></script>
		<script th:src="@{/../static/crossbrowserjs/respond.min.js}"></script>
		<script th:src="@{/../static/crossbrowserjs/excanvas.min.js}"></script>
	<![endif]-->
	<script th:src="@{/../static/plugins/slimscroll/jquery.slimscroll.min.js}"></script>
	<script th:src="@{/../static/plugins/js-cookie/js.cookie.js}"></script>
	<script th:src="@{/../static/js/theme/default.min.js}"></script>
	<script th:src="@{/../static/js/apps.min.js}"></script>
	<!-- ================== END BASE JS ================== -->
	
	<!-- ================== BEGIN PAGE LEVEL JS ================== -->
	<script th:src="@{/../static/plugins/DataTables/media/js/jquery.dataTables.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/media/js/dataTables.bootstrap.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/dataTables.buttons.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/buttons.bootstrap.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/buttons.flash.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/jszip.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/pdfmake.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/vfs_fonts.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/buttons.html5.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Buttons/js/buttons.print.min.js}"></script>
	<script th:src="@{/../static/plugins/DataTables/extensions/Responsive/js/dataTables.responsive.min.js}"></script>
	<script th:src="@{/../static/plugins/layui/layui.all.js}"></script>
	<script th:src="@{/../static/js/demo/table-manage-buttons.demo.js}"></script>
	<!-- ================== END PAGE LEVEL JS ================== -->
	<script th:src="@{/../static/delta/js/public.js}"></script>
	<script th:src="@{/../static/delta/js/dict.js}"></script>
	
	<script>
		$(document).ready(function() {
			App.init();
			TableManageButtons.init();

			$('.dicttype').click(function(){
				var _this = $(this);
				if (_this.hasClass('selected')) {
					return;
				}
				var p = _this.data('typeid');
				_this.parent().siblings().children().removeClass('selected');
				_this.addClass('selected');
				TableManageButtons.load();
			});

			$('#data-table-buttons tbody').on('click','tr',function() {
				$(this).siblings().removeClass('selected');
				$(this).toggleClass('selected');
				if (!$(this).hasClass('selected')) {
					target = undefined;
					return;
				}
				var data = table.row(this).data();
				targetRow = this;
				target = jsonData.filter(function(json){
					for(var obj in json){
						if (json[obj] == data[1]){
							return json;
						}
					}
				});
			} );
		});

	</script>
</body>
</html>
